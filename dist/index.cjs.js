"use strict";var E=Object.create;var M=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var L=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var b=(t,e,a)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var P=(t,e)=>{for(var a in e)M(t,a,{get:e[a],enumerable:!0})},T=(t,e,a,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of A(e))!g.call(t,o)&&o!==a&&M(t,o,{get:()=>e[o],enumerable:!(r=C(e,o))||r.enumerable});return t};var R=(t,e,a)=>(a=t!=null?E(L(t)):{},T(e||!t||!t.__esModule?M(a,"default",{value:t,enumerable:!0}):a,t)),I=t=>T(M({},"__esModule",{value:!0}),t);var u=(t,e,a)=>(b(t,typeof e!="symbol"?e+"":e,a),a);var D={};P(D,{default:()=>H});module.exports=I(D);var p=R(require("react"));var v={jak:!0,poi:!1,pano:!1,suggest:!1,api:"full"},d=class{static appendScript(){return new Promise((e,a)=>{let r=document.createElement("script");r.type="text/javascript",r.src="https://api.mapy.cz/loader.js",r.onload=()=>e(),r.onerror=o=>a(o),document.head.appendChild(r)})}static async runInitialLoad({key:e="",...a}){return new Promise(r=>{window.Loader.async=!0,window.Loader.load(e,{...v,...a},()=>{r()})})}static load(e){return d.loadingPromise===null&&(d.loadingPromise=new Promise(async(a,r)=>{try{await d.appendScript(),await d.runInitialLoad(e),a()}catch(o){d.status=3,r(o)}})),d.loadingPromise}static async init(e={}){let{api:a}=e;return d.status===2?!0:d.load(e)}},f=d;u(f,"status",0),u(f,"loadingPromise",null);var O=f;var n=class{static async loadMapIntoContainer(e,{apiConfig:a,...r}={}){await O.init(a);let{center:o={lat:50.0674706,lon:14.4715394},defaultLayer:i="BASE",zoom:c=14,sync:y={isEnabled:!1},controls:m,markers:l=[]}=r,s=n.createMap(e,n.createCoords(o),c);return(a==null?void 0:a.api)!=="simple"?typeof s.addDefaultLayer>"u"?n.logMixingAPIsError("simple"):n.addLayer(s,i).enable():typeof s.addDefaultLayer<"u"&&(n.logMixingAPIsError("full"),n.addLayer(s,i).enable()),y.isEnabled&&n.addSync(s,y.bottom),m&&n.addControls(s,m),l&&n.addMarkers(s,l),s}static createCoords({lat:e,lon:a}){return window.SMap.Coords.fromWGS84(a,e)}static createMap(e,a,r){return new window.SMap(window.JAK.gel(e),a,r)}static addLayer(e,a){return e.addDefaultLayer(window.SMap[`DEF_${a}`])}static addSync(e,a){e.addControl(new window.SMap.Control.Sync({bottomSpace:a}))}static addControls(e,{hasDefault:a,compass:r,mouse:o,keyboard:i}){a&&e.addDefaultControls(),r&&e.addControl(new window.SMap.Control.Compass({title:r.title}),r.style),o&&e.addControl(new window.SMap.Control.Mouse((o.includes("pan")?window.SMap.MOUSE_PAN:0)+(o.includes("wheel")?window.SMap.MOUSE_WHEEL:0)+(o.includes("zoom")?window.SMap.MOUSE_ZOOM:0)+(o.includes("zoom-in")?window.SMap.MOUSE_ZOOM_IN:0)+(o.includes("zoom-out")?window.SMap.MOUSE_ZOOM_OUT:0))),i&&e.addControl(new window.SMap.Control.Keyboard((i.includes("pan")?window.SMap.KB_PAN:0)+(i.includes("zoom")?window.SMap.KB_ZOOM:0)))}static getMarkersLayer(e,a){if(typeof n.markersLayers[a]>"u"){let r=new window.SMap.Layer.Marker;e.addLayer(r),r.enable(),n.markersLayers[a]=r}return n.markersLayers[a]}static addMarkers(e,a,r="default"){let o=n.getMarkersLayer(e,r);a.forEach(({center:i,name:c,options:y})=>{o.addMarker(new window.SMap.Marker(n.createCoords(i),c,y))})}static addMarkerToLayer(e,{center:a,name:r,options:o},i="default"){n.getMarkersLayer(e,i).addMarker(new window.SMap.Marker(n.createCoords(a),r,o))}},w=n;u(w,"markersLayers",{}),u(w,"logMixingAPIsError",e=>{let a="Full",r="Simple",o=e==="full"?a:r;console.error(`Map should be loaded with ${e==="simple"?r:a} API but ${o} API is already loaded. Mixing APIs isn't supported by Mapy.cz API.`),console.info(`Map now uses ${o} API.`)});var S=w;var k=({center:t,zoom:e,defaultLayer:a,sync:r,controls:o,markers:i,apiConfig:c,...y})=>{let m=(0,p.useRef)(null),l=(0,p.useRef)(null);return(0,p.useEffect)(()=>{l.current&&S.loadMapIntoContainer(l.current,{center:t,zoom:e,defaultLayer:a,sync:r,controls:o,markers:i,apiConfig:c}).then(s=>m.current=s)},[l.current]),p.default.createElement("div",{ref:l,...y})},H=k;
//# sourceMappingURL=index.cjs.js.map
